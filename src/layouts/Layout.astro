---
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import "../styles/global.css";

interface Props {
  hideNav?: boolean;
}

const { hideNav = false } = Astro.props;
const GTAG_ID = import.meta.env.PUBLIC_GTAG_ID;
const isProd = import.meta.env.PROD;
---

<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Frankie Wallace</title>

    {isProd && GTAG_ID && (
      <fragment>
        <script
          is:inline
          async
          src={`https://www.googletagmanager.com/gtag/js?id=${GTAG_ID}`}></script>
        <script is:inline>
          window.dataLayer = window.dataLayer || [];
          function gtag() {
            dataLayer.push(arguments);
          }

          gtag("js", new Date());
          gtag("config", "{GTAG_ID}");
        </script>
      </fragment>
    )}
  </head>
  <body class="font-sans text-gray-900">
    <header id="site-header" class="transition-transform duration-300">
      <Header hideNav={hideNav} />
    </header>
    <main>
      <slot />
    </main>
    <Footer hideNav={hideNav} />
  </body>
</html>
