---
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import "../styles/global.css";

interface Props {
  hideNav?: boolean;
}

const { hideNav = false } = Astro.props;
const isProd = import.meta.env.PROD;
---

<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Frankie Wallace</title>

    {isProd && (
      <fragment>
        <script
          is:inline
          async
          src={`https://www.googletagmanager.com/gtag/js?id=G-PJ04EFYQLD`}></script>
        <script is:inline>
          window.dataLayer = window.dataLayer || [];
          function gtag() {
            dataLayer.push(arguments);
          }

          gtag("js", new Date());
          gtag("config", "G-PJ04EFYQLD");
        </script>
      </fragment>
    )}

<!-- Flodesk -->
      <script>
        (function (w, d, t, h, s, n) {
          w.FlodeskObject = n;
          var fn = function () {
            (w[n].q = w[n].q || []).push(arguments);
          };
          w[n] = w[n] || fn;
          var f = d.getElementsByTagName(t)[0];
          var v = "?v=" + Math.floor(new Date().getTime() / (120 * 1000)) * 60;
          var sm = d.createElement(t);
          sm.async = true;
          sm.type = "module";
          sm.src = h + s + ".mjs" + v;
          f.parentNode.insertBefore(sm, f);
          var sn = d.createElement(t);
          sn.async = true;
          sn.noModule = true;
          sn.src = h + s + ".js" + v;
          f.parentNode.insertBefore(sn, f);
        })(
          window,
          document,
          "script",
          "https://assets.flodesk.com",
          "/universal",
          "fd",
        );
      </script>
  </head>
  <body class="font-sans text-gray-900">
    <header id="site-header" class="transition-transform duration-300">
      <Header hideNav={hideNav} />
    </header>
    <main>
      <slot />
    </main>
    <Footer hideNav={hideNav} />
  </body>
</html>
